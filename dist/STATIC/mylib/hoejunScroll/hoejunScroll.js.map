{"version":3,"sources":["../../../../STATIC/mylib/hoejunScroll/hoejunScroll.js"],"names":["console","log","Element","prototype","documentOffsetTop","offsetTop","offsetParent","Array","isArray","arg","Object","toString","call","window","HjScroll","TimelineMax","renderAfter","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","ipop","arr","i","nArr","slice","splice","extend","obj","obj2","key","hasOwnProperty","resizeDebounceTime","_count","defaultOpt","playOpt","reverse","reverseOpt","timeScale","ease","Power1","easeOut","opt","tl","paused","id","scrollTw","TweenMax","to","scrollStandard","add","watching","isRender","__watchInstance","__renderBeforeTweenList","__renderBeforeTweensList","addEventHandler","removeEventHandler","addEventListener","resizeFn","scrollFnProcess","removeEventListener","setDefaultOpt","newOpt","ins","watchId","len","length","push","docHeight","resizeProcess","unWatching","unWatchId","progress","addTw","position","tw","pos","method","concat","arguments","warn","tws","pause","addProgressAnimate","addScrollAnimate","apply","addTws","sel","fn","targets","TweenLite","selector","parentTw","el","target","error","fixed","calcPosition","calcStartPosition","calcDuration","onUpdate","scrollPosition","play","isPlay","dur","totalDuration","tweenTo","addFixedProgressAnimate","addFixedScrollAnimate","clearTimeout","resizeTimeout","body","document","html","documentElement","height","Math","max","scrollHeight","offsetHeight","clientHeight","winHeight","innerHeight","reCalc","getChildren","tempTarget","startTime","scroll","scrollY","pageYOffset","scrollTop","per","processOffsetTop","standardVal"],"mappings":"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","file":"hoejunScroll.js","sourcesContent":["/* HjScroll v 0.4 */\r\n/* Fixed Animation 테스트 필요 ! */\r\n\r\nconsole.log('HjScroll Develop Version');\r\n\r\n// 절대적 offsetTop 값을 구하기 위함\r\nElement.prototype.documentOffsetTop = function () {\r\n\treturn this.offsetTop + ( this.offsetParent ? this.offsetParent.documentOffsetTop() : 0 );\r\n};\r\nif (!Array.isArray) {\r\n\tArray.isArray = function(arg) {\r\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\r\n\t};\r\n}\r\n\r\nwindow.HjScroll = (function (TimelineMax) {\r\n\r\n\t/**\t\t\t\t\tInner Utils\t\t\t\t\t**/\r\n\tvar renderAfter =\r\n\t\twindow.requestAnimationFrame \t\t||\r\n\t\twindow.webkitRequestAnimationFrame \t||\r\n\t\twindow.mozRequestAnimationFrame \t||\r\n\t\tfunction (callback) { window.setTimeout(callback, 0); };\r\n\r\n\t// ([1, 2, 3], 1) => [1, 3]\r\n\tvar ipop = function (arr, i) {\r\n\t\tvar nArr = [].slice.call(arr);\r\n\t\tnArr.splice(i, 1);\r\n\t\treturn nArr;\r\n\t};\r\n\r\n\tvar extend = function (obj, obj2) {\r\n\t\tobj = obj || {};\r\n\t\tfor (var key in obj2) {\r\n\t\t\tif (obj2.hasOwnProperty(key)) {\r\n\t\t\t\tobj[key] = obj2[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t};\r\n\r\n\r\n\t/**\t\t\t\tGlobal Private Option\t\t\t**/\r\n\tvar resizeDebounceTime = 350;\r\n\tvar _count = 0;\r\n\tvar defaultOpt = {\r\n\t\t// Common Opt\r\n\t\toffsetTop: 0, // 1 : top, 0 : bottom, middle: 0.5,  0 ~ 1\r\n\r\n\t\t// Scroll Progress Opt\r\n\r\n\t\t// Scroll Animate Opt\r\n\t\tplayOpt: {},\r\n\t\treverse: true,\r\n\t\treverseOpt: {timeScale: 1.15, ease: Power1.easeOut}\r\n\t};\r\n\r\n\r\n\t/**\t\t\t\t\tConstruct\t\t\t\t\t**/\r\n\tvar HjScroll = function (opt) {\r\n\t\tif (!(this instanceof HjScroll)) { return new HjScroll(opt); }\r\n\r\n\t\tthis.opt = opt || {};\r\n\t\tthis.tl = new TimelineMax({paused: true});\r\n\t\tthis.id = _count++;\r\n\r\n\t\tvar scrollTw = TweenMax.to(window, 0, {}, 0);\r\n\t\tscrollTw.scrollStandard = true;\r\n\r\n\t\tthis.tl.add(scrollTw);\r\n\r\n\t\tHjScroll.watching(this);\r\n\t\tconsole.log('construct');\r\n\t};\r\n\r\n\r\n\t/**\t\t\t\t\tSTATIC Variable\t\t\t\t**/\r\n\tHjScroll.isRender = false;\r\n\tHjScroll.__watchInstance = [];\r\n\tHjScroll.__renderBeforeTweenList = [];\r\n\tHjScroll.__renderBeforeTweensList = [];\r\n\r\n\r\n\t/**\t\t\t\t\tSTATIC Method\t\t\t\t**/\r\n\tHjScroll.addEventHandler = function () {\r\n\t\tHjScroll.removeEventHandler();\r\n\t\twindow.addEventListener('resize', resizeFn);\r\n\t\twindow.addEventListener('scroll', scrollFnProcess);\r\n\t\twindow.addEventListener('touchmove', scrollFnProcess);\r\n\t\tresizeFn();\r\n\t};\r\n\tHjScroll.removeEventHandler = function () {\r\n\t\twindow.removeEventListener('resize', resizeFn);\r\n\t\twindow.removeEventListener('scroll', scrollFnProcess);\r\n\t\twindow.removeEventListener('touchmove', scrollFnProcess);\r\n\t};\r\n\tHjScroll.setDefaultOpt = function (newOpt) {\r\n\t\tdefaultOpt = extend(defaultOpt, newOpt);\r\n\t};\r\n\r\n\r\n\t/*\t\t\t\t\tinstance 감시\t\t\t\t*/\r\n\tHjScroll.watching = function (ins) {\r\n\t\tif (!(ins instanceof HjScroll)) { return HjScroll; }\r\n\t\tvar watchId = ins.id;\r\n\t\tfor (var i = 0, len = HjScroll.__watchInstance.length; i < len; i++) {\r\n\t\t\tif (HjScroll.__watchInstance[i].id === watchId) {\r\n\t\t\t\treturn HjScroll;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log('watch');\r\n\t\tHjScroll.__watchInstance.push(ins);\r\n\r\n\t\t// watchInstance 갯수가 0개에서 1개로 되었을때 eventHandler 구독\r\n\t\tif(HjScroll.__watchInstance.length === 1){\r\n\t\t\tHjScroll.addEventHandler();\r\n\t\t}\r\n\t\telse if(HjScroll.docHeight){\r\n\t\t\tresizeProcess(ins);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tscrollFnProcess();\r\n\t\t}\r\n\t\treturn HjScroll;\r\n\t};\r\n\r\n\t/*\t\t\t\tinstance 감시 중단\t\t\t\t*/\r\n\tHjScroll.unWatching = function (ins) {\r\n\t\tif (!(ins instanceof HjScroll)) {\r\n\t\t\treturn HjScroll;\r\n\t\t}\r\n\t\tvar unWatchId = ins.id;\r\n\t\tfor (var i = 0, len = HjScroll.__watchInstance.length; i < len; i++) {\r\n\t\t\tif (HjScroll.__watchInstance[i].id === unWatchId) {\r\n\t\t\t\t// 중단할 instance가 감시 목록에 있으면 애니메이션 초기화후 감시 목록에서 뺌\r\n\t\t\t\tHjScroll.__watchInstance[i].tl.progress(0);\r\n\t\t\t\tHjScroll.__watchInstance = ipop(HjScroll.__watchInstance, i);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// watchInstance 갯수가 1개에서 0개로 되었을때 eventHandler 구독 취소\r\n\t\tif(HjScroll.__watchInstance.length === 0){\r\n\t\t\tHjScroll.removeEventHandler();\r\n\t\t}\r\n\t\treturn HjScroll;\r\n\t};\r\n\r\n\r\n\r\n\t/*\t\t\t\t\tTween 추가 \t\t\t\t\t*/\r\n\t// addTw(tw, opt) , addTw(position, tw, opt)\r\n\t// position: [num] => addScrollAnimate, [num1, num2] => addProgressAnimate\r\n\t// 렌더링 전에는 tw을 fn으로 넘겨야 안전\r\n\tHjScroll.prototype.addTw = function (position, tw, opt) {\r\n\t\tvar pos;\r\n\t\tvar method;\r\n\r\n\t\t// 페이지 렌더링이 되기 전이면 렌더링시 계산할 리스트에 넣어둠\r\n\t\tif(!HjScroll.isRender){\r\n\t\t\tHjScroll.__renderBeforeTweenList.push([this].concat(arguments));\r\n\t\t\tconsole.warn('addTw: Render Before !!, Push BeforeTweenList');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!Array.isArray(position) && !(typeof position === 'number')) { tw = position; position = 0.5; opt = tw; }\r\n\t\t\r\n\t\t// tween 함수일시 처리\r\n\t\tif(typeof tw === 'function') { tw = tw(this); }\r\n\t\tfor(var i = 0, tws = [].concat(tw), len = tws.length; i < len; i++) {\r\n\t\t\ttws[i].pause();\r\n\t\t}\r\n\t\tpos = [].concat(position);\r\n\r\n\t\tmethod = pos.length === 2 ? HjScroll.prototype.addProgressAnimate : HjScroll.prototype.addScrollAnimate;\r\n\r\n\t\textend(tw, extend(opt, defaultOpt));\r\n\r\n\t\tmethod.apply(this, arguments);\r\n\t};\r\n\r\n\t/*\t\t\t다중 Tween 추가\t\t\t*/\r\n\tHjScroll.prototype.addTws = function (position, sel, fn, opt) {\r\n\t\tif(!HjScroll.isRender){\r\n\t\t\tHjScroll.__renderBeforeTweensList.push([this].concat(arguments));\r\n\t\t\tconsole.warn('addTws: Render Before !!, Push BeforeTweensList');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar targets = TweenLite.selector(sel);\r\n\t\tfor(var i = 0, len = targets.length; i < len; i++) {\r\n\t\t\tvar tw = fn(targets[i], i);\r\n\t\t\tHjScroll.prototype.addTw.apply(this, [position].concat(tw, opt));\r\n\t\t}\r\n\t};\r\n\r\n\t/*\t\t\t애니메이션 Type 1: ProgressAnimation 추가\t\t\t*/\r\n\tHjScroll.prototype.addProgressAnimate = function (position, tw) {\r\n\t\tvar parentTw;\r\n\t\tvar el = tw.target;\r\n\t\tif (el && el[0]){ el = el[0]; }\r\n\t\telse if(el instanceof Element) {}\r\n\t\telse{\r\n\t\t\tconsole.error('Element not Found');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// isFixedAnimation ?\r\n\t\tconsole.log(tw, tw.fixed)\r\n\t\tvar calcPosition = tw.fixed ?\r\n\t\t\t[ calcStartPosition(position, false, HjScroll.docHeight), calcDuration(position, tw.offsetTop, HjScroll.docHeight) ] : [ calcStartPosition(position, el), calcDuration(position, tw.offsetTop) ];\r\n\r\n\t\tparentTw = TweenMax.to(el, calcPosition[1], {\r\n\t\t\tonUpdate: function () { tw.progress(parentTw.progress()) }\r\n\t\t});\r\n\t\tparentTw.scrollPosition = position;\r\n\t\tparentTw.fixed = tw.fixed;\r\n\t\tthis.tl.add(parentTw, calcPosition[0]);\r\n\t};\r\n\r\n\t/*\t\t\t애니메이션 Type 2: ScrollAnimation 추가\t\t\t*/\r\n\tHjScroll.prototype.addScrollAnimate = function (position, tw) {\r\n\t\tvar callback;\r\n\t\tvar el = tw.target || tw[0].target;\r\n\t\tif (el && el[0]){ el = el[0]; }\r\n\t\telse if(el instanceof Element) {}\r\n\t\telse {\r\n\t\t\tconsole.error('Element not Found');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// isFixedAnimation ?\r\n\t\tvar calcPosition = tw.fixed ?\r\n\t\t\t[ calcStartPosition([].concat(position), false, HjScroll.docHeight) ] : [ calcStartPosition([].concat(position), el) ];\r\n\r\n\t\tfor(var i = 0, tws = [].concat(tw), len = tws.length; i < len; i++) {\r\n\t\t\ttws[i].play();\r\n\t\t}\r\n\t\tcallback = (function (tl, playOpt, reverseOpt, reverse) {\r\n\t\t\tvar isPlay = false;\r\n\t\t\tvar dur = tl.totalDuration();\r\n\t\t\treturn function () {\r\n\t\t\t\tif(isPlay && reverse){\r\n\t\t\t\t\ttl.tweenTo(0, reverseOpt);\r\n\t\t\t\t\tisPlay = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttl.tweenTo(dur, playOpt);\r\n\t\t\t\t\tisPlay = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})(new TimelineMax({paused:true}).add(tw), tw.playOpt, tw.reverseOpt, tw.reverse);\r\n\t\tcallback.el = el;\r\n\t\tcallback.scrollPosition = position;\r\n\t\tcallback.fixed = tw.fixed;\r\n\r\n\t\tthis.tl.add(callback, calcPosition[0]);\r\n\t};\r\n\r\n\t/*\t\t\t애니메이션 Type 3,4: FixedProgressAnimation, FixedScrollAnimation 추가\t\t\t*/\r\n\tHjScroll.prototype.addFixedProgressAnimate = function (position, tw) { this.addProgressAnimate(position, tw, true); };\r\n\tHjScroll.prototype.addFixedScrollAnimate = function (position, tw) { this.addScrollAnimate(position, tw, true); };\r\n\r\n\t/**\t\t\t\tPrivate Functions\t\t\t**/\r\n\tfunction resizeFn() {\r\n\t\twindow.clearTimeout(HjScroll.resizeTimeout);\r\n\t\tHjScroll.resizeTimeout = window.setTimeout(resizeProcess, resizeDebounceTime);\r\n\t}\r\n\r\n\tvar resizeProcess = function (ins) {\r\n\t\tvar body = document.body,\r\n\t\t\thtml = document.documentElement;\r\n\r\n\t\tvar height = Math.max(body.scrollHeight, body.offsetHeight,\r\n\t\t\thtml.clientHeight, html.scrollHeight, html.offsetHeight);\r\n\r\n\t\tHjScroll.docHeight = height;\r\n\t\tHjScroll.winHeight = window.innerHeight;\r\n\r\n\t\t// 렌더링전에 등록되었던 트윈들 적용\r\n\t\tif(!HjScroll.isRender) {\r\n\t\t\tconsole.log('rendered, Execute Storage addTw');\r\n\t\t\tHjScroll.isRender = true;\r\n\t\t\tfor(var i = 0, len = HjScroll.__renderBeforeTweenList.length; i < len; i++){\r\n\t\t\t\tHjScroll.prototype.addTw.apply(HjScroll.__renderBeforeTweenList[i][0], HjScroll.__renderBeforeTweenList[i][1] );\r\n\t\t\t}\r\n\t\t\tfor(var i = 0, len = HjScroll.__renderBeforeTweensList.length; i < len; i++){\r\n\t\t\t\tHjScroll.prototype.addTws.apply(HjScroll.__renderBeforeTweensList[i][0], HjScroll.__renderBeforeTweensList[i][1] );\r\n\t\t\t}\r\n\t\t\tHjScroll.__renderBeforeTweenList = HjScroll.__renderBeforeTweensList = [];\r\n\t\t}\r\n\r\n\t\t// if: ins 넘어올시 해당 ins 처리\r\n\t\t// else: 넘어오지 않을 시 watching 중인 instance들 처리\t \r\n\t\tif(ins && ins instanceof  HjScroll){\r\n\t\t\treCalc(ins.tl);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(var i = 0, len = HjScroll.__watchInstance.length; i < len; i++){\r\n\t\t\t\treCalc(HjScroll.__watchInstance[i].tl);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconsole.log('resize');\r\n\t\tscrollFnProcess();\r\n\r\n\t\t// 사이즈 재계산 함수 (Timeline -> Tws Update)\r\n\t\tfunction reCalc(tl){\r\n\t\t\tvar tws = tl.getChildren();\r\n\t\t\tvar tempTarget;\r\n\t\t\tfor(var i = 0, len = tws.length; i < len; i++){\r\n\t\t\t\tif(Array.isArray(tws[i].target)){ tempTarget = tws[i].target[0]; }\r\n\t\t\t\telse { tempTarget = typeof tws[i].target === 'function' ? tws[i].target.el : tws[i].target }\r\n\r\n\t\t\t\tconsole.log('recalc', tws[i])\r\n\r\n\t\t\t\tif(tws[i].scrollStandard){\r\n\t\t\t\t\t// 페이지 전체 기준 Tw\r\n\t\t\t\t\ttws[i].totalDuration(HjScroll.docHeight);\r\n\t\t\t\t}\r\n\t\t\t\telse if(tws[i].target.scrollPosition){\r\n\t\t\t\t\t// ScrollAnimate(Callback)\r\n\t\t\t\t\tif(tws[i].fixed){\r\n\t\t\t\t\t\tconsole.log(calcStartPosition([].concat(tws[i].target.scrollPosition), el, HjScroll.docHeight))\r\n\t\t\t\t\t\ttws[i].startTime(calcStartPosition([].concat(tws[i].target.scrollPosition), false, HjScroll.docHeight));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttws[i].startTime(calcStartPosition([].concat(tws[i].target.scrollPosition), tempTarget));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t// ProgressAnimate\r\n\t\t\t\t\tif(tws[i].fixed){\r\n\r\n\t\t\t\t\t\ttws[i].totalDuration(calcDuration(tws[i].scrollPosition, tws[i].offsetTop, HjScroll.docHeight));\r\n\t\t\t\t\t\ttws[i].startTime(calcStartPosition(tws[i].scrollPosition, false, HjScroll.docHeight))\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttws[i].totalDuration(calcDuration(tws[i].scrollPosition, tws[i].offsetTop));\r\n\t\t\t\t\t\ttws[i].startTime(calcStartPosition(tws[i].scrollPosition, tempTarget))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// 스크롤시 처리될 함수\r\n\tfunction scrollFnProcess() {\r\n\t\tvar scroll =\r\n\t\t\twindow.scrollY\r\n\t\t\t|| window.pageYOffset\r\n\t\t\t|| document.documentElement.scrollTop;\r\n\t\tvar per =  (scroll + HjScroll.winHeight) / HjScroll.docHeight;\r\n\t\t// NAN 처리\r\n\t\tper = per !== per ? 0 : per;\r\n\t\t//console.log('scrollProgress', per);\r\n\t\tfor(var i = 0, len = HjScroll.__watchInstance.length; i < len; i++){\r\n\t\t\tHjScroll.__watchInstance[i].tl.progress(per);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction calcDuration(position, processOffsetTop, standardVal) {\r\n\t\tstandardVal = standardVal || HjScroll.winHeight;\r\n\t\tprocessOffsetTop = processOffsetTop || 0;\r\n\t\treturn standardVal * (position[1] - position[0]) - processOffsetTop;\r\n\t}\r\n\tfunction calcStartPosition(position, el, standardVal){\r\n\t\tstandardVal = standardVal || HjScroll.winHeight;\r\n\t\treturn ((el && el.documentOffsetTop()) || 0) + (position[0] * standardVal);\r\n\t}\r\n\r\n\treturn HjScroll;\r\n\r\n})(TimelineMax);"]}